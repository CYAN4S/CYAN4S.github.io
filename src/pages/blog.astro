---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import { getCollection } from "astro:content";
import FormattedDate from "../components/FormattedDate.astro";
import Default from "../layouts/Default.astro";

const posts = (await getCollection("blog"))
  .sort((a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf())
  .reverse();
---

<Default title="CYAN4S blog" description="CYAN4S의 블로그입니다." heroImage="/placeholder-blog.png">
  <style slot="style">
    ul {
      list-style-type: none;
      padding: unset;
      margin: 2rem 0;
    }
    ul li {
      display: flex;
      gap: 0.5rem;
    }
    ul li :global(time) {
      flex: 0 0 140px;
      color: #595959;
    }
  </style>

  <section>
    <ul>
      {
        posts.map((post) => (
          <li>
            <FormattedDate date={post.data.pubDate} />
            <a href={`/blog/${post.slug}/`}>{post.data.title}</a>
          </li>
        ))
      }
    </ul>
  </section>
</Default>
