---
import { getCollection } from "astro:content";
import FormattedDate from "../../components/FormattedDate.astro";
import Default from "../../layouts/Default.astro";

const posts = (await getCollection("blog"))
  .sort((a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf())
  .reverse();
---

<Default
  title="CYAN4S Blog"
  description="CYAN4S의 블로그입니다."
  heroImage="/placeholder-blog.png"
>

  <div class="card-grid">
    {
      posts.map((post) => (
        <a class="card" href={`/blog/${post.slug}/`}>
          <img src={post.data.heroImage || "/placeholder-blog.png"}/>
          <div class="card-title">{post.data.title}</div>
          <div class="card-desc">{post.data.description}</div>
          <div class="card-date"><FormattedDate date={post.data.pubDate}/></div>
        </a>
      ))
    }
  </div>
</Default>

<style>
  .card-intro {
    display: flex;
  }
</style>