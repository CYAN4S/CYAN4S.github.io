---
import { type CollectionEntry, getCollection } from "astro:content";
import Default from "../../layouts/Default.astro";
import ScrollToTop from "../../components/ScrollToTop.astro";
import Meta from "../../components/Meta.astro";

export async function getStaticPaths() {
  const posts = await getCollection("portfolio");
  return posts.map((post) => ({
    params: { slug: post.slug },
    props: {
      post,
      slug: post.slug,
    },
  }));
}

type Props = {
  post: CollectionEntry<"portfolio">;
};

const { post } = Astro.props;
const { Content } = await post.render();
---

<style>
  hr {
    margin: 4rem 0;
  }
</style>

<Default>
  <article>
    <blockquote style="margin: 0 0 var(--gap)">
      <p><strong>π§ ν¬νΈν΄λ¦¬μ¤ μ‚¬μ΄νΈλ” μ•„μ§ κ³µμ‚¬ μ¤‘μ΄μ—μ”.</strong></p>
      <p>λ‚΄μ©μ μΌλ΅ λ¶€μ‹¤ν•κ±°λ‚, ν„μ¬μ™€ λ§μ§€ μ•λ” λ‚΄μ©μ΄ μμ„ μ μμ–΄μ”. μµλ€ν• λΉ¨λ¦¬ μμ •ν• κ»μ”!</p>
    </blockquote>
    <img src={post.data.heroImage?.src} alt="" />
    <h1>{post.data.title}</h1>
    <Meta post={post} />
    <hr />
    <Content />
  </article>
  <ScrollToTop />
</Default>
